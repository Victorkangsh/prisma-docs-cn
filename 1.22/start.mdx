import Code from '../home/demos/code'

# å¿«é€Ÿä¸Šæ‰‹

**Prismaæ˜¯ç°ä»£åº”ç”¨ç¨‹åºçš„æ•°æ®å±‚**ã€‚ å®ƒé€šè¿‡ **Prisma client**ä½¿ç”¨é€šç”¨æ•°æ®åº“æŠ½è±¡æ›¿æ¢ä¼ ç»Ÿçš„ORMå’Œæ•°æ®è®¿é—®å±‚ã€‚ Prismaç”¨äºæ„å»º **GraphQLæœåŠ¡å™¨ï¼ŒREST APIç­‰**ã€‚

- **å„ç§è¯­è¨€çš„Prisma client**ï¼Œå¦‚JavaScriptï¼ŒTypeScriptï¼ŒFlowï¼ŒGoã€‚
- **æ”¯æŒå¤šä¸ªæ•°æ®åº“**ï¼Œå¦‚MySQLï¼ŒPostgreSQLï¼ŒMongoDB(ç›®å‰ä»…ä»¥ä¸Šä¸‰ç§ï¼Œåç»­æ”¯æŒæ›´å¤š)ã€‚
- **ç±»å‹å®‰å…¨çš„æ•°æ®åº“è®¿é—®**åŒ…æ‹¬è¿‡æ»¤å™¨ï¼Œèšåˆï¼Œåˆ†é¡µå’Œäº‹åŠ¡ã€‚
- **æ•°æ®åº“çš„å®æ—¶äº‹ä»¶ç³»ç»Ÿ**ä»¥è·å¾—æœ‰å…³æ•°æ®åº“äº‹ä»¶çš„é€šçŸ¥ã€‚
- **å…·æœ‰ç®€å•SDLè¯­æ³•çš„å£°æ˜æ€§æ•°æ®å»ºæ¨¡å’Œè¿ç§»ï¼ˆå¯é€‰ï¼‰**ã€‚

## ç›®å½•

- [å¼€å§‹](#å¼€å§‹)
- [æ¡ˆä¾‹](#æ¡ˆä¾‹)
- [æ¶æ„](#æ¶æ„)
- [è¿æ¥æ•°æ®åº“](#è¿æ¥æ•°æ®åº“)
- [ç¤¾åŒº](#ç¤¾åŒº)
- [è´¡çŒ®](#è´¡çŒ®)

## å¼€å§‹

### 1. å®‰è£…

npmæˆ–yarnå®‰è£…ï¼Œå›½å†…æ¨èä½¿ç”¨cnpmï¼š

<Code>{`
# æ²¡æœ‰cnpmè¯·å…ˆå®‰è£…ï¼šnpm i -g cnpm
cnpm i -g prisma
# or
yarn global add prisma
`}</Code>

macç”¨æˆ·ä¹Ÿå¯é€‰æ‹©ä½¿ç”¨brewå®‰è£…ï¼š

<Code>{`
brew tap prisma/prisma
brew install prisma
`}</Code>

### 2. è¿æ¥æ•°æ®åº“å’ŒPrisma

æœ‰ä¸¤ç§æ–¹å¼å¯åŠ¨æ•°æ®åº“å’ŒPrismaï¼Œç†Ÿæ‚‰dockerçš„ç”¨æˆ·é€‰æ‹©ç¬¬ä¸€ç§ï¼Œä¸ä¼šdockerçš„ç”¨æˆ·å¯ä»¥é€‰æ‹©å…ˆéƒ¨ç½²åœ¨Prismaæä¾›çš„äº‘ä¸Šï¼Œé€‰ç¬¬äºŒç§æ–¹å¼ï¼š

##### 1. Dockerç”¨æˆ·

<Code>{`
prisma init hello-world
`}</Code>

åœ¨ç»ˆç«¯ä¸­å¯ä»¥çœ‹åˆ°å„ç§é€‰é¡¹ï¼ŒæŒ‰å¦‚ä¸‹é€‰æ‹©:

- é€‰æ‹© **Create new database** (ä½ ä¹Ÿå¯ä»¥é€‰æ‹© [existing database](https://prisma.1wire.com/blog/existingdatabase/) )
- é€‰æ‹©æ•°æ®åº“ç±»å‹: **MySQL** æˆ– **PostgreSQL**
- é€‰æ‹©ç”Ÿæˆ **Prisma Client**çš„ç¼–ç¨‹è¯­è¨€: **TypeScript**, **Flow**, **JavaScript** æˆ– **Go**

å‘å¯¼ç»ˆæ­¢åï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥å¯åŠ¨Prismaï¼š

<Code>{`
cd hello-world
docker-compose up -d
`}</Code>

> éƒ¨ç½²åˆ°å·²æœ‰æ•°æ®åº“ï¼Ÿä¿®æ”¹docker-compose.ymlä¸­çš„å‚æ•°ä¸ºä½ ç§æœ‰æ•°æ®åº“å‚æ•°å³å¯ï¼ˆç›®å‰åªæ”¯æŒPostgreSQLï¼‰ã€‚

##### 2. Prismaæä¾›æµ‹è¯•æœåŠ¡å™¨

<Code>{`
prisma init hello-world
`}</Code>

åœ¨ç»ˆç«¯ä¸­å¯ä»¥çœ‹åˆ°å„ç§é€‰é¡¹ï¼ŒæŒ‰ä¸Šä¸‹é”®é€‰æ‹©ï¼ˆwindowsç”¨æˆ·å»ºè®®ä½¿ç”¨PowerShellï¼‰:

- é€‰æ‹© **Demo server**
- æ­¤æ—¶ä¼šæ‰“å¼€app.prisma.ioç½‘é¡µï¼Œå¯ä»¥æ³¨å†Œç™»å½•æˆ–ä½¿ç”¨githubè´¦æˆ·ç™»å½•ï¼Œç™»å½•åç‚¹å‡»æˆæƒå³å¯ã€‚
**æ³¨æ„æ­¤å¤„åƒä¸‡ä¸èƒ½ç”¨æ•°å­—å¼€å¤´çš„é‚®ç®±æ³¨å†Œï¼ˆå°¤å…¶qqé‚®ç®±ï¼‰ï¼ŒåŒ…æ‹¬æ³¨å†Œgithubçš„é‚®ç®±ï¼Œå¦‚æœä½ çš„githubè´¦æˆ·é‚®ç®±ç”±æ•°å­—å¼€å¤´ï¼Œå»ºè®®ç”¨å­—æ¯å¼€å¤´é‚®ç®±æ³¨å†Œapp.prisma.io**
- ç»ˆç«¯æ˜¾ç¤º **Authenticating** åé€‰æ‹©ä½ æƒ³éƒ¨ç½²åœ¨å“ªä¸ªåŒºåŸŸï¼Œæœ‰ä¸¤ä¸ªé€‰æ‹©ï¼Œæ¬§æ´²å’Œç¾å›½ï¼Œåé¢æœ‰å»¶è¿ŸçŠ¶æ€ï¼Œé€‰å»¶è¿Ÿä½çš„å›è½¦ç¡®è®¤ã€‚å¦‚ï¼šè´¦æˆ·å/demo-us1 å³ç¾å›½åœ°åŒºã€‚
- å¡«å…¥ä½ æƒ³ä½¿ç”¨çš„åå­—ï¼Œè¿™é‡Œæˆ‘ä»¬ç›´æ¥å›è½¦ï¼Œé€‰æ‹©stageåˆ†æ”¯ï¼Œé»˜è®¤æ˜¯devï¼Œå†æ¬¡ç›´æ¥å›è½¦å°±è¡Œã€‚
- é€‰æ‹©ç”Ÿæˆ **Prisma Client**çš„ç¼–ç¨‹è¯­è¨€ï¼Œè¿™é‡Œæˆ‘ä»¬é€‰æ‹© **Prisma JavaScript Client**,å¦‚é€‰æ‹©TSï¼Œæ³¨æ„åé¢å®‰è£…ä¾èµ–ä¼šå¤šä¸ªgraphql-toolsã€‚
- åˆå§‹æ–‡ä»¶å·²ç”Ÿæˆï¼ŒæŒ‰ç…§æç¤ºè¿›å…¥ç›®å½•éƒ¨ç½²ï¼š cd hello-world && prisma deploy
- æ­¤æ—¶ä½ çš„åç«¯APIå·²ç»å¯ä»¥è®¿é—®ï¼Œæ‰“å¼€ç»ˆç«¯æ˜¾ç¤ºçš„httpåœ°å€å³å¯çœ‹åˆ°Prisma playground

> `prisma.yml`æ˜¯Prismaçš„æ ¹é…ç½®æ–‡ä»¶ã€‚
> `datamodel.prisma`å®šä¹‰åº”ç”¨ç¨‹åºçš„æ•°æ®åº“çš„æ•°æ®æ¨¡å‹(å®ƒåŸºæœ¬ä¸Šå®šä¹‰äº†æ•°æ®åº“æ¨¡å¼)ã€‚
> å¦‚æœæŠ¥é”™ï¼Œè¯·prisma account æŸ¥çœ‹åç§°å¼€å¤´æ˜¯å¦ä¸ºæ•°å­—ã€‚

### 3. å®šä¹‰æ•°æ®æ¨¡å‹

æ‰“å¼€ç¼–è¾‘å™¨ç¼–è¾‘ `datamodel.prisma` ä½¿ç”¨SDLè¯­è¨€é£æ ¼ [SDL](https://www.prisma.io/blog/graphql-sdl-schema-definition-language-6755bcb9ce51/) æ¯ä¸ªæ¨¡å‹åœ¨æ•°æ®åº“é‡Œå¯¹åº”ä¸€å¼ è¡¨:

<Code lang="graphql">{`
type User {
  id: ID! @unique
  email: String @unique
  name: String!
  posts: [Post!]!
}
type Post {
  id: ID! @unique
  title: String!
  published: Boolean! @default(value: "false")
  author: User
}
`}</Code>

### 4. éƒ¨ç½² Prisma API

åœ¨ç»ˆç«¯è¾“å…¥ä»¥ä¸‹å‘½ä»¤å˜æ›´æ•°æ®åº“è¡¨å¹¶ç”Ÿæˆæ–°clientï¼š

<Code>{`
prisma deploy
prisma generate
`}</Code>

Prisma APIåŸºäºæ•°æ®æ¨¡å‹è¿›è¡Œéƒ¨ç½²ï¼Œå¹¶ä¸ºè¯¥æ–‡ä»¶ä¸­çš„æ¯ä¸ªæ¨¡å‹å…¬å¼€CRUDå’Œå®æ—¶æ“ä½œã€‚

### 5. ä½¿ç”¨ Prisma client (JavaScript)

Prismaå®¢æˆ·ç«¯è¿æ¥åˆ°Prisma APIï¼Œå…è®¸ä½ å¯¹æ•°æ®åº“æ‰§è¡Œè¯»å†™æ“ä½œã€‚ æœ¬èŠ‚ä»‹ç»å¦‚ä½•ä½¿ç”¨ **JavaScript** ä¸­çš„Prisma clientã€‚

é¦–å…ˆï¼Œåœ¨`hello-world`ä¸­åˆå§‹åŒ–å¹¶å®‰è£…ä¾èµ–ï¼š

<Code>{`
cnpm init -y
cnpm install --save prisma-client-lib
prisma generate
`}</Code>

åœ¨`hello-world`ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„Nodeè„šæœ¬ï¼š

<Code>{`
touch index.js
#or åœ¨ç¼–è¾‘å™¨ä¸­æ–°å»ºindex.js
`}</Code>

ç¼–è¾‘å¦‚ä¸‹ä»£ç ï¼š

<Code lang="javascript">{`
const { prisma } = require('./generated/prisma-client')
// ä¸€ä¸ªmainå‡½æ•°ï¼Œä»¥ä¾¿æˆ‘ä»¬å¯ä»¥ä½¿ç”¨async/await
async function main() {
  // æ–°å»ºä¸€ä¸ªuserï¼Œå¹¶æ–°å»ºä¸€ä¸ªpostæ–‡ç« 
  const newUser = await prisma
    .createUser({
      name: "Alice",
      posts: {
        create: {
          title: "The data layer for modern apps",
        }
      },
    })
  console.log("Created new user: \${newUser.name} (ID: \${newUser.id})")
  // ä»æ•°æ®åº“ä¸­è¯»å–æ‰€æœ‰ç”¨æˆ·userå¹¶å°†å…¶æ‰“å°åˆ°æ§åˆ¶å°
  const allUsers = await prisma.users()
  console.log(allUsers)
  // ä»æ•°æ®åº“ä¸­è¯»å–æ‰€æœ‰æ–‡ç« postå¹¶å°†å…¶æ‰“å°åˆ°æ§åˆ¶å°
  const allPosts = await prisma.posts()
  console.log(allPosts)
}
main().catch(e => console.error(e))
`}</Code>

æœ€åï¼Œåœ¨ç»ˆç«¯å¯åŠ¨è¿™ä¸ªæ–‡ä»¶ï¼š

<Code>{`
node index.js
`}</Code>

æ­¤æ—¶ç»ˆç«¯æ˜¾ç¤ºç”¨æˆ·å·²è¢«å­˜åˆ°æ•°æ®åº“ï¼š

<Code>{`
Created new user: Alice (ID: cjn70mkjlgnv00b77iyk9zx0e)
[ { id: 'cjn70mkjlgnv00b77iyk9zx0e', email: null, name: 'Alice' } ]
[ { id: 'cjn70mkjrgnv10b77nhqgg2zd', title: 'The data layer for modern apps', published: false } ]
`}</Code>

<details><summary><b>æŸ¥çœ‹æ›´å¤šæ“ä½œ</b></summary>

<Code lang="javascript">{`
const usersCalledAlice = await prisma
  .users({
    where: {
      name: "Alice"
    }
  })
`}</Code>

<Code lang="javascript">{`
// replace the __USER_ID__ placeholder with an actual user ID
const updatedUser = await prisma
  .updateUser({
    where: { id: "__USER_ID__" },
    data: { email: "alice@prisma.io" }
  })
`}</Code>

<Code lang="javascript">{`
// replace the __USER_ID__ placeholder with an actual user ID
 const deletedUser = await prisma
  .deleteUser({ id: "__USER_ID__" })
`}</Code>

<Code lang="javascript">{`
const postsByAuthor = await prisma
  .user({ email: "alice@prisma.io" })
  .posts()
`}</Code>

</details>


### 6. ä¸‹ä¸€æ­¥

ä»¥ä¸Šæ“ä½œä»…å±•ç¤ºåŸºæœ¬èƒ½åŠ›ï¼Œæ•°æ®ä¹Ÿæ˜¯å†™æ­»çš„ï¼Œå­¦ä¹ çœŸå®ç¯å¢ƒä»£ç ï¼Œç§»æ­¥æ–‡æ¡£å’Œæ•™ç¨‹

**[å®˜æ–¹æ–‡æ¡£æœ€æ–°ç‰ˆæœ¬](https://prisma.1wire.com/docs)**

- [åœ¨å·²å­˜åœ¨æ•°æ®åº“ä¸Šä½¿ç”¨ Prisma](https://prisma.1wire.com/blog/existingdatabase/)
- [ä½¿ç”¨ Prisma client æ„å»ºAPP](https://prisma.1wire.com/docs/part3)
- [Prisma åŸç†](https://prisma.1wire.com/docs/part4).

## æ¡ˆä¾‹

Prismaæ¨¡æ¿é›†åˆ ğŸ’¡

| ç¤ºä¾‹ | è¯­è¨€ | æè¿° |
|:------|:----------:|:-------------|
| [`flow-script`](https://github.com/prisma/prisma-examples/tree/master/flow-script) | [Flow](https://flow.org/) | Simple usage of Prisma client in script |
| [`go-cli-app`](https://github.com/prisma/prisma-examples/tree/master/go-cli-app) | [Golang](https://en.wikipedia.org/wiki/Go_(programming_language)) | Simple CLI todo list app |
| [`go-graphql`](https://github.com/prisma/prisma-examples/tree/master/go-graphql) | [Golang](https://en.wikipedia.org/wiki/Go_(programming_language)) | Simple GraphQL server |
| [`node-cli-app`](https://github.com/prisma/prisma-examples/tree/master/node-cli-app) | [Node.JS](https://nodejs.org/en/) | Simple CLI todo list app |
| [`node-graphql-auth`](https://github.com/prisma/prisma-examples/tree/master/node-graphql-auth) |  [Node.JS](https://nodejs.org/en/) | GraphQL server with email-password authentication |
| [`node-graphql-schema-delegation`](https://github.com/prisma/prisma-examples/tree/master/node-graphql-schema-delegation) | [Node.JS](https://nodejs.org/en/) | [Schema delegation](https://prisma.1wire.com/docs/part3) with the Prisma client |
| [`node-graphql`](https://github.com/prisma/prisma-examples/tree/master/node-graphql) |  [Node.JS](https://nodejs.org/en/) | Simple GraphQL server |
| [`node-rest-express`](https://github.com/prisma/prisma-examples/tree/master/node-rest-express) | [Node.JS](https://nodejs.org/en/) | Simple REST API with Express.JS |
| [`node-script`](https://github.com/prisma/prisma-examples/tree/master/node-script) | [Node.JS](https://nodejs.org/en/) | Simple usage of Prisma client in script |
| [`typescript-cli-app`](https://github.com/prisma/prisma-examples/tree/master/typescript-cli-app) | [TypeScript](https://www.typescriptlang.org/) | Simple CLI todo list app |
| [`typescript-graphql-auth`](https://github.com/prisma/prisma-examples/tree/master/typescript-graphql-auth) | [TypeScript](https://www.typescriptlang.org/) | GraphQL server with email-password authentication |
| [`typescript-graphql`](https://github.com/prisma/prisma-examples/tree/master/typescript-graphql) | [TypeScript](https://www.typescriptlang.org/) | Simple GraphQL server |
| [`typescript-graphql-schema-delegation`](https://github.com/prisma/prisma-examples/tree/master/typescript-graphql-schema-delegation) | [TypeScript](https://www.typescriptlang.org/) | [Schema delegation](https://prisma.1wire.com/docs/part3) with the Prisma client |
| [`typescript-script`](https://github.com/prisma/prisma-examples/tree/master/typescript-script) | [TypeScript](https://www.typescriptlang.org/) | Simple usage of Prisma client in script |

è¿™é‡Œæ˜¯ä¸€ä¸ªä»¿AirBnbåç«¯çš„ä¾‹å­ [**AirBnB clone example**](https://github.com/prismagraphql/graphql-server-example) æˆ‘ä»¬å†™äº†ä¸€ä¸ªåŒ…å«Prismaå…¨éƒ¨ç”¨ä¾‹çš„é¡¹ç›®.

## æ¶æ„

Prismaåœ¨åç«¯æ¶æ„ä¸­æ‰®æ¼” **æ•°æ®å±‚** çš„è§’è‰²ï¼Œå–ä»£ä¼ ç»Ÿçš„ORMå’Œè‡ªå®šä¹‰æ•°æ®è®¿é—®å±‚ã€‚ å®ƒæ”¯æŒ_layeredæ¶æ„_ï¼Œå¯ä»¥æ›´å¥½åœ°åˆ†ç¦»å…³æ³¨ç‚¹_å¹¶æé«˜æ•´ä¸ªåç«¯çš„_maintainability_ã€‚

** Prisma client**åœ¨ä½ çš„åº”ç”¨ç¨‹åºæœåŠ¡å™¨ä¸­ç”¨äºé€šè¿‡Prisma APIå¯¹ä½ çš„æ•°æ®åº“æ‰§è¡Œè¯»å†™æ“ä½œã€‚

Prismaä½œä¸º_standalone processes_è¿è¡Œï¼Œå…è®¸å®ƒç‹¬ç«‹äºåº”ç”¨ç¨‹åºæœåŠ¡å™¨è¿›è¡Œæ‰©å±•ã€‚

<div align="center"><img src="https://imgur.com/OyIQQxF.png" height="132" alt="prisma"/></div>

## è¿æ¥æ•°æ®åº“

[æ•°æ®åº“è¿æ¥å™¨](https://github.com/prisma/prisma/issues/1751) æä¾›Prismaå’Œåº•å±‚æ•°æ®åº“ä¹‹é—´çš„é“¾æ¥ã€‚

ç°åœ¨å¯ä»¥ä½¿ç”¨è¿™å‡ ä¸ªæ•°æ®åº“:

- MySQL
- PostgreSQL
- MongoDB

### å³å°†æ›´æ–°

å¦‚æœä½ æœ‰å…´è¶£å‚ä¸ä»¥ä¸‹è¿æ¥å™¨ä¹‹ä¸€çš„é¢„è§ˆï¼Œè¯·åŠ å…¥æˆ‘ä»¬çš„å¾®ä¿¡ç¾¤ã€‚

- [Elastic Search](https://github.com/prisma/prisma/issues/1665)
- [MS SQL](https://github.com/prisma/prisma/issues/1642)
- [Oracle](https://github.com/prisma/prisma/issues/1644)
- [ArangoDB](https://github.com/prisma/prisma/issues/1645)
- [Neo4j](https://github.com/prisma/prisma/issues/1646)
- [Druid](https://github.com/prisma/prisma/issues/1647)
- [Dgraph](https://github.com/prisma/prisma/issues/1648)
- [DynamoDB](https://github.com/prisma/prisma/issues/1655)
- [Cloud Firestore](https://github.com/prisma/prisma/issues/1660)
- [CockroachDB](https://github.com/prisma/prisma/issues/1705)
- [Cassandra](https://github.com/prisma/prisma/issues/1750)
- [Redis](https://github.com/prisma/prisma/issues/1722)
- [AWS Neptune](https://github.com/prisma/prisma/issues/1752)
- [CosmosDB](https://github.com/prisma/prisma/issues/1663)
- [Influx](https://github.com/prisma/prisma/issues/1857)

åŠ å…¥è®¨è®ºï¼Œå‘¼å£°æœ€é«˜çš„æˆ‘ä»¬å°†ä¼˜å…ˆå®Œæˆ!

## ç¤¾åŒº

Prisma çš„[ç¤¾åŒº](https://www.prisma.io/community) ! ğŸ‘‹

- [WeChat](https://prisma.1wire.com/static/favicon/wechatimg.png)
- [Forum](https://www.prisma.io/forum)
- [Slack](https://slack.prisma.io/)
- [Twitter](https://twitter.com/prisma)
- [Facebook](https://www.facebook.com/prisma.io)
- [Email](mailto:kwc@1wire.com)

## è´¡çŒ®

æ¬¢è¿è´¡çŒ®,å‚ä¸ä¸­æ–‡ç¿»è¯‘[åœ°å€](https://github.com/victorkangsh/prisma-docs-cn)

å‚è€ƒ [how to the contribution guide](https://github.com/prisma/prisma/blob/master/CONTRIBUTING.md)

ç‰ˆæœ¬åˆ†ä¸ºä¸‰ä¸ªï¼š **alpha**ï¼Œ**beta**å’Œ **stable** ã€‚å…³äºç‰ˆæœ¬å’ŒPrismaçš„å‘å¸ƒæµç¨‹å‚è€ƒï¼ˆhttps://www.prisma.io/blog/improving-prismas-release-process-yaey8deiwaex/ï¼‰ã€‚

**[å®˜æ–¹æ–‡æ¡£æœ€æ–°ç‰ˆæœ¬](https://prisma.1wire.com/docs)**
